<section class="row">
    <div class="container">
<p><%= notice %></p>

<h2><%= @question.title %></h2>

<ul id="answers">
  <% if @cookies %>
    <% if @question.has_more_than_five_answers? %>
      <% @question.answers.each do | answer | %>
        <li><%= answer.description + answer.count.to_s %></li><br>
      <% end %>
    <% else %>
      <p>nothing to see yet</p>
    <% end %>
  <% else %>
    <% @question.answers.each do | answer | %>
      <li><%= link_to answer.description,
        answer_path(answer.id), method: :patch %></li><br>
    <% end %>
  <% end %>
</ul>
</div>
</section>

<div class="ct-chart ct-perfect-fourth">
</div>

<script type="text/javascript">
var labels = [];
$('#answers').find('li').each(function(li) {
  labels.push($(this).text());
});
var data = {
  // A labels array that can contain any sort of values
  labels: labels,
  // Our series array that contains series objects or in this case series data arrays
  series: [
    [5, 2, 4, 2, 0]
  ]
};

// Create a new line chart object where as first parameter we pass in a selector
// that is resolving to our chart container element. The Second parameter
// is the actual data object.
new Chartist.Line('.ct-chart', data);
</script>
